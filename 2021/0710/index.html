<html>
  <head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  </head>
  <style>
    body {
      background: black;
    }
    .meta-enter {
      width: 100%;
      height: 100%;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 10;
      background-color: black;
      display: flex;
      flex-direction: column;
    }
    .meta-enter > * {
      margin: auto;
      font-size: 1rem;
    }
    .is-hidden {
      display: none;
    }
    .a-canvas {
      transform: rotate3d(1, 4, 1, 16deg) translate3d(0px, 0px, 100px);
    }
    .a-modal {
      display: none;
    }
  </style>
  <body>
    <div id="meta-enter" class="meta-enter">
      <button id="meta-enter-button">ENTER</button>
    </div>
    <a-scene vr-mode-ui="enabled: false">
      <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9"></a-box>
      <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere>
      <a-cylinder
        position="1 0.75 -3"
        radius="0.5"
        height="1.5"
        color="#FFC65D"
      ></a-cylinder>
      <a-plane
        position="0 0 -4"
        rotation="-90 0 0"
        width="4"
        height="4"
        color="#7BC8A4"
      ></a-plane>
      <a-sky color="#ECECEC"></a-sky>
      <a-entity id="camera-wrapper">
        <a-entity
          camera
          id="camera"
          look-controls
          position="0 1.5 0"
        ></a-entity>
      </a-entity>
    </a-scene>
    <script>
      const enterButton = document.getElementById("meta-enter-button");
      enterButton.addEventListener("click", () => {
        const metaEnter = document.getElementById("meta-enter");
        const camera = document.getElementById("camera");
        const cameraWrapper = document.getElementById("camera-wrapper");
        const y = camera.getAttribute("rotation").y;
        cameraWrapper.setAttribute("rotation", { y: -1 * y });
        metaEnter.classList.add("is-hidden");

        if (
          DeviceMotionEvent &&
          DeviceMotionEvent.requestPermission &&
          typeof DeviceMotionEvent.requestPermission === "function"
        ) {
          DeviceMotionEvent.requestPermission();
        }
        if (
          DeviceOrientationEvent &&
          DeviceOrientationEvent.requestPermission &&
          typeof DeviceOrientationEvent.requestPermission === "function"
        ) {
          DeviceOrientationEvent.requestPermission();
        }
      });
    </script>
  </body>
</html>
